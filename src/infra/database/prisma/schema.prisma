generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum StatusEntrega {
    PENDENTE
    CAMINHO
    ENTREGUE
}

model Entrega {
    id        String        @id
    status    StatusEntrega @default(PENDENTE)
    createdAt DateTime      @default(now())
    updatedAt DateTime      @updatedAt

    // Relacionamento 1:N
    movimentacoes Movimentacao[]

    @@map("entregas")
}

model Movimentacao {
    id        String   @id @default(uuid())
    descricao String
    data      DateTime

    // Chave Estrangeira
    entregaId String
    entrega   Entrega @relation(fields: [entregaId], references: [id], onDelete: Cascade)

    @@map("movimentacoes")
}
